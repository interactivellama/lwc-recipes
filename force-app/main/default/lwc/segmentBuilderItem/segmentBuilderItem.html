<template>
  <li class="slds-box">
    <!-- Should be able to be gone through one at time-->
    <span id="aggregate-rule-heading"
        >Aggregate condition: Sales Order Product</span
    >
    <span> Count</span>
    <span> At least</span>
    <span> 10</span>
    <div id="conditionalGroupIsOr2">
        Conditional Group:
        <!-- TODO: tooltip with directions -->
        <lightning-button-stateful
            label-when-off="AND"
            label-when-on="OR"
            selected={conditionalGroupIsOr2}
            onclick={handleConditionalGroupClick2}
            variant="text"
        >
        </lightning-button-stateful>
    </div>
    <ul
        class="aggregate-rules-panel-closed"
        aria-describedby="conditionalGroupIsOr2"
    >
        <li>
            <span>First Name</span>
            <span> is equal to</span>
            <span> Stephen</span>
        </li>
        <li>
            <span>Last Name</span>
            <span> is equal to</span>
            <span> James</span>
        </li>
    </ul>
    <div
        class="aggregate-closed-rule-actions slds-m-top_medium"
    >
        <button
            aria-controls="aggregate-children"
            aria-expanded={ruleIsOpen}
            onclick={handleAggregateRuleOpenClick}
            aria-describedby="aggregate-rule-heading"
        >
            Edit Rule
        </button>
        <button
            onclick={handleDeleteClicked}
            aria-describedby="aggregate-rule-heading"
        >
            Delete Rule
        </button>
    </div>
    <div
        class="aggregate-panel  slds-box"
        id="aggregate-children"
    >
        <lightning-button-stateful
            label-when-off="AND"
            label-when-on="OR"
            selected={conditionalGroupIsOr2}
            onclick={handleConditionalGroupClick2}
            variant="text"
        >
        </lightning-button-stateful>
        <!-- <lightning-combobox
            name="and-or"
            label="Conditional Group"
            value="and"
            placeholder="Select Group condition"
            options={andOrPicklistOptions}
        ></lightning-combobox> -->
        <ul class="aggregate-rules" role="group">
            <li>
                <!-- can't be disabled, can be readonly-->
                <lightning-combobox
                    name="first-name"
                    label="Attribute"
                    value="first-name"
                    placeholder="Select First Name"
                    options={picklistOptions}
                    onchange={handlePicklistChange}
                ></lightning-combobox>

                <lightning-combobox
                    name="conditions"
                    label="Condition"
                    value="is-equal-to"
                    placeholder="Select condition"
                    options={conditionalPicklistOptions}
                    onchange={handleConditionalPicklistChange}
                ></lightning-combobox>

                <lightning-input
                    type="text"
                    name="first-name-value"
                    label="Enter a value"
                    value="Stephen"
                ></lightning-input>
            </li>
            <li>
                <div class="slds-m-padding_small">
                    <lightning-button-icon
                        icon-name="utility:add"
                        alternative-text="Add Rule"
                    ></lightning-button-icon>
                </div>
            </li>
        </ul>
        <button onclick={handleAggregatePanelCloseClick}>
            Cancel
        </button>
        <button onclick={handleAggregatePanelCloseClick}>
            Done
        </button>
    </div>
  </li>
</template>
